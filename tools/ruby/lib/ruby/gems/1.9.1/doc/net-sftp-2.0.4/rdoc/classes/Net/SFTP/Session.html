<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Net::SFTP::Session [Net-sftp]</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }<\/style>" )

  // ]]>
  </script>

</head>
<body>


    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Net::SFTP::Session</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>


                <a href="../../../files/lib/net/sftp/session_rb.html">

                lib/net/sftp/session.rb

                </a>


        <br />


                <a href="../../../files/lib/net/sftp/session_rb.html">

                lib/net/sftp/session.rb

                </a>


        <br />

            </td>
        </tr>


        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>

                Object

            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">

  <div id="contextContent">

    <div id="description">
      <p>
The <a href="Session.html">Session</a> class encapsulates a single <a
href="../SFTP.html">SFTP</a> channel on a <a
href="../SSH.html">Net::SSH</a> connection. Instances of this class are
what most applications will interact with most, as it provides access to
both low-level (mkdir, rename, remove, symlink, etc.) and high-level
(upload, download, etc.) <a href="../SFTP.html">SFTP</a> operations.
</p>
<p>
Although <a href="Session.html">Session</a> makes it easy to do <a
href="../SFTP.html">SFTP</a> operations serially, you can also set up
multiple operations to be done in parallel, too, without needing to resort
to threading. You merely need to fire off the requests, and then run the
event loop until all of the requests have completed:
</p>
<pre>
  handle1 = sftp.open!(&quot;/path/to/file1&quot;)
  handle2 = sftp.open!(&quot;/path/to/file2&quot;)

  r1 = sftp.read(handle1, 0, 1024)
  r2 = sftp.read(handle2, 0, 1024)
  sftp.loop { [r1, r2].any? { |r| r.pending? } }

  puts &quot;chunk #1: #{r1.response[:data]}&quot;
  puts &quot;chunk #2: #{r2.response[:data]}&quot;
</pre>
<p>
By passing blocks to the operations, you can set up powerful state
machines, to fire off subsequent operations. In fact, the <a
href="Operations/Upload.html">Net::SFTP::Operations::Upload</a> and <a
href="Operations/Download.html">Net::SFTP::Operations::Download</a> classes
set up such state machines, so that multiple uploads and/or downloads can
be running simultaneously.
</p>
<p>
The convention with the names of the operations is as follows: if the
method name ends with an exclamation mark, like <a
href="Session.html#M000257">read!</a>, it will be synchronous (e.g., it
will block until the server responds). Methods without an exclamation mark
(e.g. <a href="Session.html#M000256">read</a>) are asynchronous, and return
before the server has responded. You will need to make sure the <a
href="../SSH.html">SSH</a> event loop is run in order to process these
requests. (See <a href="Session.html#M000300">loop</a>.)
</p>

    </div>

   </div>


    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">

        <a href="#M000348">block</a>&nbsp;&nbsp;

        <a href="#M000290">block</a>&nbsp;&nbsp;

        <a href="#M000291">block!</a>&nbsp;&nbsp;

        <a href="#M000349">block!</a>&nbsp;&nbsp;

        <a href="#M000312">close</a>&nbsp;&nbsp;

        <a href="#M000254">close</a>&nbsp;&nbsp;

        <a href="#M000255">close!</a>&nbsp;&nbsp;

        <a href="#M000313">close!</a>&nbsp;&nbsp;

        <a href="#M000294">close_channel</a>&nbsp;&nbsp;

        <a href="#M000352">close_channel</a>&nbsp;&nbsp;

        <a href="#M000296">closed?</a>&nbsp;&nbsp;

        <a href="#M000354">closed?</a>&nbsp;&nbsp;

        <a href="#M000298">connect</a>&nbsp;&nbsp;

        <a href="#M000356">connect</a>&nbsp;&nbsp;

        <a href="#M000357">connect!</a>&nbsp;&nbsp;

        <a href="#M000299">connect!</a>&nbsp;&nbsp;

        <a href="#M000309">dir</a>&nbsp;&nbsp;

        <a href="#M000251">dir</a>&nbsp;&nbsp;

        <a href="#M000306">download</a>&nbsp;&nbsp;

        <a href="#M000248">download</a>&nbsp;&nbsp;

        <a href="#M000249">download!</a>&nbsp;&nbsp;

        <a href="#M000307">download!</a>&nbsp;&nbsp;

        <a href="#M000250">file</a>&nbsp;&nbsp;

        <a href="#M000308">file</a>&nbsp;&nbsp;

        <a href="#M000266">fsetstat</a>&nbsp;&nbsp;

        <a href="#M000324">fsetstat</a>&nbsp;&nbsp;

        <a href="#M000325">fsetstat!</a>&nbsp;&nbsp;

        <a href="#M000267">fsetstat!</a>&nbsp;&nbsp;

        <a href="#M000320">fstat</a>&nbsp;&nbsp;

        <a href="#M000262">fstat</a>&nbsp;&nbsp;

        <a href="#M000321">fstat!</a>&nbsp;&nbsp;

        <a href="#M000263">fstat!</a>&nbsp;&nbsp;

        <a href="#M000288">link</a>&nbsp;&nbsp;

        <a href="#M000346">link</a>&nbsp;&nbsp;

        <a href="#M000347">link!</a>&nbsp;&nbsp;

        <a href="#M000289">link!</a>&nbsp;&nbsp;

        <a href="#M000300">loop</a>&nbsp;&nbsp;

        <a href="#M000359">loop</a>&nbsp;&nbsp;

        <a href="#M000301">loop_forever</a>&nbsp;&nbsp;

        <a href="#M000358">loop_forever</a>&nbsp;&nbsp;

        <a href="#M000318">lstat</a>&nbsp;&nbsp;

        <a href="#M000260">lstat</a>&nbsp;&nbsp;

        <a href="#M000319">lstat!</a>&nbsp;&nbsp;

        <a href="#M000261">lstat!</a>&nbsp;&nbsp;

        <a href="#M000332">mkdir</a>&nbsp;&nbsp;

        <a href="#M000274">mkdir</a>&nbsp;&nbsp;

        <a href="#M000333">mkdir!</a>&nbsp;&nbsp;

        <a href="#M000275">mkdir!</a>&nbsp;&nbsp;

        <a href="#M000245">new</a>&nbsp;&nbsp;

        <a href="#M000303">new</a>&nbsp;&nbsp;

        <a href="#M000310">open</a>&nbsp;&nbsp;

        <a href="#M000252">open</a>&nbsp;&nbsp;

        <a href="#M000253">open!</a>&nbsp;&nbsp;

        <a href="#M000311">open!</a>&nbsp;&nbsp;

        <a href="#M000295">open?</a>&nbsp;&nbsp;

        <a href="#M000353">open?</a>&nbsp;&nbsp;

        <a href="#M000326">opendir</a>&nbsp;&nbsp;

        <a href="#M000268">opendir</a>&nbsp;&nbsp;

        <a href="#M000269">opendir!</a>&nbsp;&nbsp;

        <a href="#M000327">opendir!</a>&nbsp;&nbsp;

        <a href="#M000355">opening?</a>&nbsp;&nbsp;

        <a href="#M000297">opening?</a>&nbsp;&nbsp;

        <a href="#M000314">read</a>&nbsp;&nbsp;

        <a href="#M000256">read</a>&nbsp;&nbsp;

        <a href="#M000257">read!</a>&nbsp;&nbsp;

        <a href="#M000315">read!</a>&nbsp;&nbsp;

        <a href="#M000328">readdir</a>&nbsp;&nbsp;

        <a href="#M000270">readdir</a>&nbsp;&nbsp;

        <a href="#M000271">readdir!</a>&nbsp;&nbsp;

        <a href="#M000329">readdir!</a>&nbsp;&nbsp;

        <a href="#M000284">readlink</a>&nbsp;&nbsp;

        <a href="#M000342">readlink</a>&nbsp;&nbsp;

        <a href="#M000285">readlink!</a>&nbsp;&nbsp;

        <a href="#M000343">readlink!</a>&nbsp;&nbsp;

        <a href="#M000336">realpath</a>&nbsp;&nbsp;

        <a href="#M000278">realpath</a>&nbsp;&nbsp;

        <a href="#M000279">realpath!</a>&nbsp;&nbsp;

        <a href="#M000337">realpath!</a>&nbsp;&nbsp;

        <a href="#M000330">remove</a>&nbsp;&nbsp;

        <a href="#M000272">remove</a>&nbsp;&nbsp;

        <a href="#M000331">remove!</a>&nbsp;&nbsp;

        <a href="#M000273">remove!</a>&nbsp;&nbsp;

        <a href="#M000282">rename</a>&nbsp;&nbsp;

        <a href="#M000340">rename</a>&nbsp;&nbsp;

        <a href="#M000341">rename!</a>&nbsp;&nbsp;

        <a href="#M000283">rename!</a>&nbsp;&nbsp;

        <a href="#M000334">rmdir</a>&nbsp;&nbsp;

        <a href="#M000276">rmdir</a>&nbsp;&nbsp;

        <a href="#M000277">rmdir!</a>&nbsp;&nbsp;

        <a href="#M000335">rmdir!</a>&nbsp;&nbsp;

        <a href="#M000302">send_packet</a>&nbsp;&nbsp;

        <a href="#M000360">send_packet</a>&nbsp;&nbsp;

        <a href="#M000322">setstat</a>&nbsp;&nbsp;

        <a href="#M000264">setstat</a>&nbsp;&nbsp;

        <a href="#M000323">setstat!</a>&nbsp;&nbsp;

        <a href="#M000265">setstat!</a>&nbsp;&nbsp;

        <a href="#M000280">stat</a>&nbsp;&nbsp;

        <a href="#M000338">stat</a>&nbsp;&nbsp;

        <a href="#M000339">stat!</a>&nbsp;&nbsp;

        <a href="#M000281">stat!</a>&nbsp;&nbsp;

        <a href="#M000286">symlink</a>&nbsp;&nbsp;

        <a href="#M000344">symlink</a>&nbsp;&nbsp;

        <a href="#M000345">symlink!</a>&nbsp;&nbsp;

        <a href="#M000287">symlink!</a>&nbsp;&nbsp;

        <a href="#M000350">unblock</a>&nbsp;&nbsp;

        <a href="#M000292">unblock</a>&nbsp;&nbsp;

        <a href="#M000351">unblock!</a>&nbsp;&nbsp;

        <a href="#M000293">unblock!</a>&nbsp;&nbsp;

        <a href="#M000304">upload</a>&nbsp;&nbsp;

        <a href="#M000246">upload</a>&nbsp;&nbsp;

        <a href="#M000247">upload!</a>&nbsp;&nbsp;

        <a href="#M000305">upload!</a>&nbsp;&nbsp;

        <a href="#M000316">write</a>&nbsp;&nbsp;

        <a href="#M000258">write</a>&nbsp;&nbsp;

        <a href="#M000259">write!</a>&nbsp;&nbsp;

        <a href="#M000317">write!</a>&nbsp;&nbsp;

      </div>
    </div>

  </div>

    <!-- if includes -->

    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">

        <span class="include-name">Net::SSH::Loggable</span>

        <span class="include-name"><a href="Constants/PacketTypes.html">Net::SFTP::Constants::PacketTypes</a></span>

        <span class="include-name">Net::SSH::Loggable</span>

        <span class="include-name"><a href="Constants/PacketTypes.html">Net::SFTP::Constants::PacketTypes</a></span>

      </div>
    </div>

    <div id="section">

    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">HIGHEST_PROTOCOL_VERSION_SUPPORTED</td>
          <td>=</td>
          <td class="context-item-value">6</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
The highest protocol version supported by the <a
href="../SFTP.html">Net::SFTP</a> library.

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">HIGHEST_PROTOCOL_VERSION_SUPPORTED</td>
          <td>=</td>
          <td class="context-item-value">6</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
The highest protocol version supported by the <a
href="../SFTP.html">Net::SFTP</a> library.

</td>

        </tr>

        </table>
      </div>
    </div>



    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">channel</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc">
The Net::SSH::Connection::Channel object that the <a
href="../SFTP.html">SFTP</a> session is being processed by.

</td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">channel</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc">
The Net::SSH::Connection::Channel object that the <a
href="../SFTP.html">SFTP</a> session is being processed by.

</td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">pending_requests</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc">
The hash of pending requests. Any requests that have been sent and which
the server has not yet responded to will be represented here.

</td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">pending_requests</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc">
The hash of pending requests. Any requests that have been sent and which
the server has not yet responded to will be represented here.

</td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">protocol</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc">
The protocol instance being used by this <a href="../SFTP.html">SFTP</a>
session. Useful for querying the protocol version in effect.

</td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">protocol</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc">
The protocol instance being used by this <a href="../SFTP.html">SFTP</a>
session. Useful for querying the protocol version in effect.

</td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">session</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc">
A reference to the <a href="../SSH.html">Net::SSH</a> session object that
powers this <a href="../SFTP.html">SFTP</a> session.

</td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">session</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc">
A reference to the <a href="../SSH.html">Net::SSH</a> session object that
powers this <a href="../SFTP.html">SFTP</a> session.

</td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">state</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc">
The state of the <a href="../SFTP.html">SFTP</a> connection. It will be
:opening, :subsystem, :init, :open, or :closed.

</td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">state</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc">
The state of the <a href="../SFTP.html">SFTP</a> connection. It will be
:opening, :subsystem, :init, :open, or :closed.

</td>
        </tr>

        </table>
      </div>
    </div>


    <!-- if method_list -->

    <div id="methods">

      <h3 class="section-bar">Public Class methods</h3>


      <div id="method-M000245" class="method-detail">
        <a name="M000245"></a>

        <div class="method-heading">

          <a href="#M000245" class="method-signature">

          <span class="method-name">new</span><span class="method-args">(session, &amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Creates a new <a href="../SFTP.html">Net::SFTP</a> instance atop the given
<a href="../SSH.html">Net::SSH</a> connection. This will return
immediately, before the <a href="../SFTP.html">SFTP</a> connection has been
properly initialized. Once the connection is ready, the given block will be
called. If you want to block until the connection has been initialized, try
this:
</p>
<pre>
  sftp = Net::SFTP::Session.new(ssh)
  sftp.loop { sftp.opening? }
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000245-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000245-source">
<pre>
    <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 78</span>
78:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">session</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
79:       <span class="ruby-ivar">@session</span>    = <span class="ruby-identifier">session</span>
80:       <span class="ruby-ivar">@input</span>      = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Buffer</span>.<span class="ruby-identifier">new</span>
81:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">logger</span> = <span class="ruby-identifier">session</span>.<span class="ruby-identifier">logger</span>
82:       <span class="ruby-ivar">@state</span>      = <span class="ruby-identifier">:closed</span>
83: 
84:       <span class="ruby-identifier">connect</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
85:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000303" class="method-detail">
        <a name="M000303"></a>

        <div class="method-heading">

          <a href="#M000303" class="method-signature">

          <span class="method-name">new</span><span class="method-args">(session, &amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Creates a new <a href="../SFTP.html">Net::SFTP</a> instance atop the given
<a href="../SSH.html">Net::SSH</a> connection. This will return
immediately, before the <a href="../SFTP.html">SFTP</a> connection has been
properly initialized. Once the connection is ready, the given block will be
called. If you want to block until the connection has been initialized, try
this:
</p>
<pre>
  sftp = Net::SFTP::Session.new(ssh)
  sftp.loop { sftp.opening? }
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000303-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000303-source">
<pre>
    <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 78</span>
78:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">session</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
79:       <span class="ruby-ivar">@session</span>    = <span class="ruby-identifier">session</span>
80:       <span class="ruby-ivar">@input</span>      = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Buffer</span>.<span class="ruby-identifier">new</span>
81:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">logger</span> = <span class="ruby-identifier">session</span>.<span class="ruby-identifier">logger</span>
82:       <span class="ruby-ivar">@state</span>      = <span class="ruby-identifier">:closed</span>
83: 
84:       <span class="ruby-identifier">connect</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
85:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <h3 class="section-bar">Public Instance methods</h3>


      <div id="method-M000348" class="method-detail">
        <a name="M000348"></a>

        <div class="method-heading">

          <a href="#M000348" class="method-signature">

          <span class="method-name">block(handle, offset, length, mask) &rarr; request<br />
block(handle, offset, length, mask) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Creates a byte-range lock on the file specified by the given
<tt>handle</tt>. This operation is only available in <a
href="../SFTP.html">SFTP</a> protocol versions 6 and higher. The lock may
be either mandatory or advisory.
</p>
<p>
The <tt>handle</tt> parameter is a file handle, as obtained by the <a
href="Session.html#M000252">open</a> method.
</p>
<p>
The <tt>offset</tt> and <tt>length</tt> parameters describe the location
and size of the byte range.
</p>
<p>
The <tt>mask</tt> describes how the lock should be defined, and consists of
some combination of the following bit masks:
</p>
<ul>
<li>0x0040 - Read lock. The byte range may not be accessed for reading by via
any other handle, though it may be written to.

</li>
<li>0x0080 - Write lock. The byte range may not be written to via any other
handle, though it may be read from.

</li>
<li>0x0100 - Delete lock. No other handle may delete this file.

</li>
<li>0x0200 - Advisory lock. The server need not honor the lock instruction.

</li>
</ul>
<p>
Once created, the lock may be removed via the <a
href="Session.html#M000292">unblock</a> method.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000348-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000348-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 690</span>
690:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">block</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-identifier">mask</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
691:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:block</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-identifier">mask</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
692:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000290" class="method-detail">
        <a name="M000290"></a>

        <div class="method-heading">

          <a href="#M000290" class="method-signature">

          <span class="method-name">block(handle, offset, length, mask) &rarr; request<br />
block(handle, offset, length, mask) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Creates a byte-range lock on the file specified by the given
<tt>handle</tt>. This operation is only available in <a
href="../SFTP.html">SFTP</a> protocol versions 6 and higher. The lock may
be either mandatory or advisory.
</p>
<p>
The <tt>handle</tt> parameter is a file handle, as obtained by the <a
href="Session.html#M000252">open</a> method.
</p>
<p>
The <tt>offset</tt> and <tt>length</tt> parameters describe the location
and size of the byte range.
</p>
<p>
The <tt>mask</tt> describes how the lock should be defined, and consists of
some combination of the following bit masks:
</p>
<ul>
<li>0x0040 - Read lock. The byte range may not be accessed for reading by via
any other handle, though it may be written to.

</li>
<li>0x0080 - Write lock. The byte range may not be written to via any other
handle, though it may be read from.

</li>
<li>0x0100 - Delete lock. No other handle may delete this file.

</li>
<li>0x0200 - Advisory lock. The server need not honor the lock instruction.

</li>
</ul>
<p>
Once created, the lock may be removed via the <a
href="Session.html#M000292">unblock</a> method.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000290-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000290-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 690</span>
690:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">block</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-identifier">mask</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
691:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:block</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-identifier">mask</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
692:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000291" class="method-detail">
        <a name="M000291"></a>

        <div class="method-heading">

          <a href="#M000291" class="method-signature">

          <span class="method-name">block!</span><span class="method-args">(handle, offset, length, mask, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000290">block</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000291-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000291-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 697</span>
697:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">block!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-identifier">mask</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
698:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">block</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-identifier">mask</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
699:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000349" class="method-detail">
        <a name="M000349"></a>

        <div class="method-heading">

          <a href="#M000349" class="method-signature">

          <span class="method-name">block!</span><span class="method-args">(handle, offset, length, mask, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000290">block</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000349-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000349-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 697</span>
697:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">block!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-identifier">mask</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
698:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">block</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-identifier">mask</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
699:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000312" class="method-detail">
        <a name="M000312"></a>

        <div class="method-heading">

          <a href="#M000312" class="method-signature">

          <span class="method-name">close(handle) &rarr; request<br />
close(handle) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Closes an open handle, whether obtained via <a
href="Session.html#M000252">open</a>, or <a
href="Session.html#M000268">opendir</a>. Returns immediately with a <a
href="Request.html">Request</a> object. If a block is given, it will be
invoked when the server responds.
</p>
<pre>
  sftp.open(&quot;/path/to/file&quot;) do |response|
    raise &quot;fail!&quot; unless response.ok?
    sftp.close(response[:handle])
  end
  sftp.loop
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000312-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000312-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 206</span>
206:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">close</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
207:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:close</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
208:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000254" class="method-detail">
        <a name="M000254"></a>

        <div class="method-heading">

          <a href="#M000254" class="method-signature">

          <span class="method-name">close(handle) &rarr; request<br />
close(handle) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Closes an open handle, whether obtained via <a
href="Session.html#M000252">open</a>, or <a
href="Session.html#M000268">opendir</a>. Returns immediately with a <a
href="Request.html">Request</a> object. If a block is given, it will be
invoked when the server responds.
</p>
<pre>
  sftp.open(&quot;/path/to/file&quot;) do |response|
    raise &quot;fail!&quot; unless response.ok?
    sftp.close(response[:handle])
  end
  sftp.loop
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000254-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000254-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 206</span>
206:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">close</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
207:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:close</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
208:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000255" class="method-detail">
        <a name="M000255"></a>

        <div class="method-heading">

          <a href="#M000255" class="method-signature">

          <span class="method-name">close!</span><span class="method-args">(handle, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000254">close</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it returns the <a
href="Response.html">Response</a> object for this request.
</p>
<pre>
  sftp.close!(handle)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000255-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000255-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 215</span>
215:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">close!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
216:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">close</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
217:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000313" class="method-detail">
        <a name="M000313"></a>

        <div class="method-heading">

          <a href="#M000313" class="method-signature">

          <span class="method-name">close!</span><span class="method-args">(handle, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000254">close</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it returns the <a
href="Response.html">Response</a> object for this request.
</p>
<pre>
  sftp.close!(handle)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000313-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000313-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 215</span>
215:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">close!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
216:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">close</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
217:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000294" class="method-detail">
        <a name="M000294"></a>

        <div class="method-heading">

          <a href="#M000294" class="method-signature">

          <span class="method-name">close_channel</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Closes the <a href="../SFTP.html">SFTP</a> connection, but not the <a
href="../SSH.html">SSH</a> connection. Blocks until the session has
terminated. Once the session has terminated, further operations on this
object will result in errors. You can reopen the <a
href="../SFTP.html">SFTP</a> session via the <a
href="Session.html#M000298">connect</a> method.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000294-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000294-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 726</span>
726:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">close_channel</span>
727:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">open?</span>
728:         <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">close</span>
729:         <span class="ruby-identifier">loop</span> { <span class="ruby-operator">!</span><span class="ruby-identifier">closed?</span> }
730:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000352" class="method-detail">
        <a name="M000352"></a>

        <div class="method-heading">

          <a href="#M000352" class="method-signature">

          <span class="method-name">close_channel</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Closes the <a href="../SFTP.html">SFTP</a> connection, but not the <a
href="../SSH.html">SSH</a> connection. Blocks until the session has
terminated. Once the session has terminated, further operations on this
object will result in errors. You can reopen the <a
href="../SFTP.html">SFTP</a> session via the <a
href="Session.html#M000298">connect</a> method.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000352-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000352-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 726</span>
726:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">close_channel</span>
727:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">open?</span>
728:         <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">close</span>
729:         <span class="ruby-identifier">loop</span> { <span class="ruby-operator">!</span><span class="ruby-identifier">closed?</span> }
730:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000296" class="method-detail">
        <a name="M000296"></a>

        <div class="method-heading">

          <a href="#M000296" class="method-signature">

          <span class="method-name">closed?</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns true if the connection has been closed.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000296-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000296-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 738</span>
738:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">closed?</span>
739:         <span class="ruby-identifier">state</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:closed</span>
740:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000354" class="method-detail">
        <a name="M000354"></a>

        <div class="method-heading">

          <a href="#M000354" class="method-signature">

          <span class="method-name">closed?</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns true if the connection has been closed.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000354-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000354-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 738</span>
738:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">closed?</span>
739:         <span class="ruby-identifier">state</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:closed</span>
740:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000298" class="method-detail">
        <a name="M000298"></a>

        <div class="method-heading">

          <a href="#M000298" class="method-signature">

          <span class="method-name">connect</span><span class="method-args">(&amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Attempts to establish an <a href="../SFTP.html">SFTP</a> connection over
the <a href="../SSH.html">SSH</a> session given when this object was
instantiated. If the object is already open, this will simply execute the
given block (if any), passing the <a href="../SFTP.html">SFTP</a> session
itself as argument. If the session is currently being opened, this will add
the given block to the list of callbacks, to be executed when the session
is fully open.
</p>
<p>
This method does not block, and will return immediately. If you pass a
block to it, that block will be invoked when the connection has been fully
established. Thus, you can do something like this:
</p>
<pre>
  sftp.connect do
    puts &quot;open!&quot;
  end
</pre>
<p>
If you just want to block until the connection is ready, see the <a
href="Session.html#M000299">connect!</a> method.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000298-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000298-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 765</span>
765:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">connect</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
766:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">state</span>
767:         <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:open</span>
768:           <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-keyword kw">self</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
769:         <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:closed</span>
770:           <span class="ruby-ivar">@state</span> = <span class="ruby-identifier">:opening</span>
771:           <span class="ruby-ivar">@channel</span> = <span class="ruby-identifier">session</span>.<span class="ruby-identifier">open_channel</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-identifier">:when_channel_confirmed</span>))
772:           <span class="ruby-ivar">@packet_length</span> = <span class="ruby-keyword kw">nil</span>
773:           <span class="ruby-ivar">@protocol</span> = <span class="ruby-keyword kw">nil</span>
774:           <span class="ruby-ivar">@on_ready</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">block</span>)
775:         <span class="ruby-keyword kw">else</span> <span class="ruby-comment cmt"># opening</span>
776:           <span class="ruby-ivar">@on_ready</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">block</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
777:         <span class="ruby-keyword kw">end</span>
778: 
779:         <span class="ruby-keyword kw">self</span>
780:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000356" class="method-detail">
        <a name="M000356"></a>

        <div class="method-heading">

          <a href="#M000356" class="method-signature">

          <span class="method-name">connect</span><span class="method-args">(&amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Attempts to establish an <a href="../SFTP.html">SFTP</a> connection over
the <a href="../SSH.html">SSH</a> session given when this object was
instantiated. If the object is already open, this will simply execute the
given block (if any), passing the <a href="../SFTP.html">SFTP</a> session
itself as argument. If the session is currently being opened, this will add
the given block to the list of callbacks, to be executed when the session
is fully open.
</p>
<p>
This method does not block, and will return immediately. If you pass a
block to it, that block will be invoked when the connection has been fully
established. Thus, you can do something like this:
</p>
<pre>
  sftp.connect do
    puts &quot;open!&quot;
  end
</pre>
<p>
If you just want to block until the connection is ready, see the <a
href="Session.html#M000299">connect!</a> method.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000356-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000356-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 765</span>
765:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">connect</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
766:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">state</span>
767:         <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:open</span>
768:           <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-keyword kw">self</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
769:         <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:closed</span>
770:           <span class="ruby-ivar">@state</span> = <span class="ruby-identifier">:opening</span>
771:           <span class="ruby-ivar">@channel</span> = <span class="ruby-identifier">session</span>.<span class="ruby-identifier">open_channel</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-identifier">:when_channel_confirmed</span>))
772:           <span class="ruby-ivar">@packet_length</span> = <span class="ruby-keyword kw">nil</span>
773:           <span class="ruby-ivar">@protocol</span> = <span class="ruby-keyword kw">nil</span>
774:           <span class="ruby-ivar">@on_ready</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">block</span>)
775:         <span class="ruby-keyword kw">else</span> <span class="ruby-comment cmt"># opening</span>
776:           <span class="ruby-ivar">@on_ready</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">block</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
777:         <span class="ruby-keyword kw">end</span>
778: 
779:         <span class="ruby-keyword kw">self</span>
780:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000357" class="method-detail">
        <a name="M000357"></a>

        <div class="method-heading">

          <a href="#M000357" class="method-signature">

          <span class="method-name">connect!</span><span class="method-args">(&amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Same as the <a href="Session.html#M000298">connect</a> method, but blocks
until the <a href="../SFTP.html">SFTP</a> connection has been fully
initialized.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000357-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000357-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 784</span>
784:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">connect!</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
785:         <span class="ruby-identifier">connect</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
786:         <span class="ruby-identifier">loop</span> { <span class="ruby-identifier">opening?</span> }
787:         <span class="ruby-keyword kw">self</span>
788:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000299" class="method-detail">
        <a name="M000299"></a>

        <div class="method-heading">

          <a href="#M000299" class="method-signature">

          <span class="method-name">connect!</span><span class="method-args">(&amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Same as the <a href="Session.html#M000298">connect</a> method, but blocks
until the <a href="../SFTP.html">SFTP</a> connection has been fully
initialized.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000299-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000299-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 784</span>
784:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">connect!</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
785:         <span class="ruby-identifier">connect</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
786:         <span class="ruby-identifier">loop</span> { <span class="ruby-identifier">opening?</span> }
787:         <span class="ruby-keyword kw">self</span>
788:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000309" class="method-detail">
        <a name="M000309"></a>

        <div class="method-heading">

          <a href="#M000309" class="method-signature">

          <span class="method-name">dir</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns a <a href="Operations/Dir.html">Net::SFTP::Operations::Dir</a>
instance, which can be used to conveniently iterate over and search
directories on the remote server.
</p>
<pre>
 sftp.dir.glob(&quot;/base/path&quot;, &quot;*/**/*.rb&quot;) do |entry|
   p entry.name
 end
</pre>
<p>
See <a href="Operations/Dir.html">Net::SFTP::Operations::Dir</a> for a more
detailed discussion of how to use this.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000309-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000309-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 152</span>
152:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dir</span>
153:         <span class="ruby-ivar">@dir</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Operations</span><span class="ruby-operator">::</span><span class="ruby-constant">Dir</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
154:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000251" class="method-detail">
        <a name="M000251"></a>

        <div class="method-heading">

          <a href="#M000251" class="method-signature">

          <span class="method-name">dir</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns a <a href="Operations/Dir.html">Net::SFTP::Operations::Dir</a>
instance, which can be used to conveniently iterate over and search
directories on the remote server.
</p>
<pre>
 sftp.dir.glob(&quot;/base/path&quot;, &quot;*/**/*.rb&quot;) do |entry|
   p entry.name
 end
</pre>
<p>
See <a href="Operations/Dir.html">Net::SFTP::Operations::Dir</a> for a more
detailed discussion of how to use this.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000251-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000251-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 152</span>
152:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dir</span>
153:         <span class="ruby-ivar">@dir</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Operations</span><span class="ruby-operator">::</span><span class="ruby-constant">Dir</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
154:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000306" class="method-detail">
        <a name="M000306"></a>

        <div class="method-heading">

          <a href="#M000306" class="method-signature">

          <span class="method-name">download</span><span class="method-args">(remote, local, options={}, &amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Initiates a download from <tt>remote</tt> to <tt>local</tt>,
asynchronously. This method will return a new <a
href="Operations/Download.html">Net::SFTP::Operations::Download</a>
instance, and requires that the event loop be run in order for the download
to progress. See <a
href="Operations/Download.html">Net::SFTP::Operations::Download</a> for a
full discussion of hos this method can be used.
</p>
<pre>
  download = sftp.download(&quot;/remote/path&quot;, &quot;/local/path&quot;)
  download.wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000306-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000306-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 114</span>
114:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">download</span>(<span class="ruby-identifier">remote</span>, <span class="ruby-identifier">local</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
115:         <span class="ruby-constant">Operations</span><span class="ruby-operator">::</span><span class="ruby-constant">Download</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
116:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000248" class="method-detail">
        <a name="M000248"></a>

        <div class="method-heading">

          <a href="#M000248" class="method-signature">

          <span class="method-name">download</span><span class="method-args">(remote, local, options={}, &amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Initiates a download from <tt>remote</tt> to <tt>local</tt>,
asynchronously. This method will return a new <a
href="Operations/Download.html">Net::SFTP::Operations::Download</a>
instance, and requires that the event loop be run in order for the download
to progress. See <a
href="Operations/Download.html">Net::SFTP::Operations::Download</a> for a
full discussion of hos this method can be used.
</p>
<pre>
  download = sftp.download(&quot;/remote/path&quot;, &quot;/local/path&quot;)
  download.wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000248-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000248-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 114</span>
114:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">download</span>(<span class="ruby-identifier">remote</span>, <span class="ruby-identifier">local</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
115:         <span class="ruby-constant">Operations</span><span class="ruby-operator">::</span><span class="ruby-constant">Download</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
116:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000249" class="method-detail">
        <a name="M000249"></a>

        <div class="method-heading">

          <a href="#M000249" class="method-signature">

          <span class="method-name">download!</span><span class="method-args">(remote, local=nil, options={}, &amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000248">download</a>, but blocks until
the download is complete. If <tt>local</tt> is omitted, downloads the file
to an in-memory buffer and returns the result as a string; otherwise,
returns the <a
href="Operations/Download.html">Net::SFTP::Operations::Download</a>
instance.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000249-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000249-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 122</span>
122:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">download!</span>(<span class="ruby-identifier">remote</span>, <span class="ruby-identifier">local</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
123:         <span class="ruby-identifier">destination</span> = <span class="ruby-identifier">local</span> <span class="ruby-operator">||</span> <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
124:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">download</span>(<span class="ruby-identifier">remote</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>).<span class="ruby-identifier">wait</span>
125:         <span class="ruby-identifier">local</span> <span class="ruby-value">? </span><span class="ruby-identifier">result</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">destination</span>.<span class="ruby-identifier">string</span>
126:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000307" class="method-detail">
        <a name="M000307"></a>

        <div class="method-heading">

          <a href="#M000307" class="method-signature">

          <span class="method-name">download!</span><span class="method-args">(remote, local=nil, options={}, &amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000248">download</a>, but blocks until
the download is complete. If <tt>local</tt> is omitted, downloads the file
to an in-memory buffer and returns the result as a string; otherwise,
returns the <a
href="Operations/Download.html">Net::SFTP::Operations::Download</a>
instance.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000307-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000307-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 122</span>
122:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">download!</span>(<span class="ruby-identifier">remote</span>, <span class="ruby-identifier">local</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
123:         <span class="ruby-identifier">destination</span> = <span class="ruby-identifier">local</span> <span class="ruby-operator">||</span> <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
124:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">download</span>(<span class="ruby-identifier">remote</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>).<span class="ruby-identifier">wait</span>
125:         <span class="ruby-identifier">local</span> <span class="ruby-value">? </span><span class="ruby-identifier">result</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">destination</span>.<span class="ruby-identifier">string</span>
126:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000250" class="method-detail">
        <a name="M000250"></a>

        <div class="method-heading">

          <a href="#M000250" class="method-signature">

          <span class="method-name">file</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns an <a
href="Operations/FileFactory.html">Net::SFTP::Operations::FileFactory</a>
instance, which can be used to mimic synchronous, IO-like file operations
on a remote file via <a href="../SFTP.html">SFTP</a>.
</p>
<pre>
  sftp.file.open(&quot;/path/to/file&quot;) do |file|
    while line = file.gets
      puts line
    end
  end
</pre>
<p>
See <a
href="Operations/FileFactory.html">Net::SFTP::Operations::FileFactory</a>
and <a href="Operations/File.html">Net::SFTP::Operations::File</a> for more
details.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000250-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000250-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 139</span>
139:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">file</span>
140:         <span class="ruby-ivar">@file</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Operations</span><span class="ruby-operator">::</span><span class="ruby-constant">FileFactory</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
141:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000308" class="method-detail">
        <a name="M000308"></a>

        <div class="method-heading">

          <a href="#M000308" class="method-signature">

          <span class="method-name">file</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns an <a
href="Operations/FileFactory.html">Net::SFTP::Operations::FileFactory</a>
instance, which can be used to mimic synchronous, IO-like file operations
on a remote file via <a href="../SFTP.html">SFTP</a>.
</p>
<pre>
  sftp.file.open(&quot;/path/to/file&quot;) do |file|
    while line = file.gets
      puts line
    end
  end
</pre>
<p>
See <a
href="Operations/FileFactory.html">Net::SFTP::Operations::FileFactory</a>
and <a href="Operations/File.html">Net::SFTP::Operations::File</a> for more
details.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000308-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000308-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 139</span>
139:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">file</span>
140:         <span class="ruby-ivar">@file</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Operations</span><span class="ruby-operator">::</span><span class="ruby-constant">FileFactory</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
141:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000266" class="method-detail">
        <a name="M000266"></a>

        <div class="method-heading">

          <a href="#M000266" class="method-signature">

          <span class="method-name">fsetstat</span><span class="method-args">(handle, attrs, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
The fsetstat method is identical to the <a
href="Session.html#M000264">setstat</a> method, with the exception that it
takes a <tt>handle</tt> as the first parameter, such as would be obtained
via the <a href="Session.html#M000252">open</a> or <a
href="Session.html#M000268">opendir</a> methods. (See the <a
href="Session.html#M000264">setstat</a> method for full documentation.)
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000266-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000266-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 377</span>
377:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fsetstat</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
378:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:fsetstat</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
379:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000324" class="method-detail">
        <a name="M000324"></a>

        <div class="method-heading">

          <a href="#M000324" class="method-signature">

          <span class="method-name">fsetstat</span><span class="method-args">(handle, attrs, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
The fsetstat method is identical to the <a
href="Session.html#M000264">setstat</a> method, with the exception that it
takes a <tt>handle</tt> as the first parameter, such as would be obtained
via the <a href="Session.html#M000252">open</a> or <a
href="Session.html#M000268">opendir</a> methods. (See the <a
href="Session.html#M000264">setstat</a> method for full documentation.)
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000324-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000324-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 377</span>
377:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fsetstat</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
378:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:fsetstat</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
379:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000325" class="method-detail">
        <a name="M000325"></a>

        <div class="method-heading">

          <a href="#M000325" class="method-signature">

          <span class="method-name">fsetstat!</span><span class="method-args">(handle, attrs, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to the <a href="Session.html#M000266">fsetstat</a> method, but
blocks until the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.fsetstat!(handle, :permissions =&gt; 0644)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000325-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000325-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 386</span>
386:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fsetstat!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
387:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">fsetstat</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
388:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000267" class="method-detail">
        <a name="M000267"></a>

        <div class="method-heading">

          <a href="#M000267" class="method-signature">

          <span class="method-name">fsetstat!</span><span class="method-args">(handle, attrs, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to the <a href="Session.html#M000266">fsetstat</a> method, but
blocks until the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.fsetstat!(handle, :permissions =&gt; 0644)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000267-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000267-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 386</span>
386:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fsetstat!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
387:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">fsetstat</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
388:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000320" class="method-detail">
        <a name="M000320"></a>

        <div class="method-heading">

          <a href="#M000320" class="method-signature">

          <span class="method-name">fstat</span><span class="method-args">(handle, flags=nil, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
The fstat method is identical to the <a
href="Session.html#M000280">stat</a> and <a
href="Session.html#M000260">lstat</a> methods, with the exception that it
takes a <tt>handle</tt> as the first parameter, such as would be obtained
via the <a href="Session.html#M000252">open</a> or <a
href="Session.html#M000268">opendir</a> methods. (See the <a
href="Session.html#M000260">lstat</a> method for full documentation).
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000320-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000320-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 326</span>
326:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fstat</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
327:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:fstat</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
328:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000262" class="method-detail">
        <a name="M000262"></a>

        <div class="method-heading">

          <a href="#M000262" class="method-signature">

          <span class="method-name">fstat</span><span class="method-args">(handle, flags=nil, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
The fstat method is identical to the <a
href="Session.html#M000280">stat</a> and <a
href="Session.html#M000260">lstat</a> methods, with the exception that it
takes a <tt>handle</tt> as the first parameter, such as would be obtained
via the <a href="Session.html#M000252">open</a> or <a
href="Session.html#M000268">opendir</a> methods. (See the <a
href="Session.html#M000260">lstat</a> method for full documentation).
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000262-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000262-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 326</span>
326:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fstat</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
327:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:fstat</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
328:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000321" class="method-detail">
        <a name="M000321"></a>

        <div class="method-heading">

          <a href="#M000321" class="method-signature">

          <span class="method-name">fstat!</span><span class="method-args">(handle, flags=nil, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to the <a href="Session.html#M000262">fstat</a> method, but
blocks until the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the attribute object describing the
path.
</p>
<pre>
  puts sftp.fstat!(handle).permissions
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000321-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000321-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 335</span>
335:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fstat!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
336:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">fstat</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:attrs</span>)
337:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000263" class="method-detail">
        <a name="M000263"></a>

        <div class="method-heading">

          <a href="#M000263" class="method-signature">

          <span class="method-name">fstat!</span><span class="method-args">(handle, flags=nil, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to the <a href="Session.html#M000262">fstat</a> method, but
blocks until the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the attribute object describing the
path.
</p>
<pre>
  puts sftp.fstat!(handle).permissions
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000263-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000263-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 335</span>
335:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fstat!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
336:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">fstat</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:attrs</span>)
337:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000288" class="method-detail">
        <a name="M000288"></a>

        <div class="method-heading">

          <a href="#M000288" class="method-signature">

          <span class="method-name">link(new_link_path, existing_path, symlink=true) &rarr; request<br />
link(new_link_path, existing_path, symlink=true) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Attempts to create a link, either hard or symbolic. This operation is only
available in <a href="../SFTP.html">SFTP</a> protocol versions 6 and
higher. If the <tt>symlink</tt> paramter is true, a symbolic link will be
created, otherwise a hard link will be created. The link will be named
<tt>new_link_path</tt>, and will point to the path <tt>existing_path</tt>.
</p>
<pre>
  sftp.link(&quot;/path/to/symlink&quot;, &quot;/path/to/file&quot;, true).wait
</pre>
<p>
Note that <a href="Session.html#M000288">link</a> is only available for <a
href="../SFTP.html">SFTP</a> protocol 6 and higher. You can use <a
href="Session.html#M000286">symlink</a> for protocols 3 and higher.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000288-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000288-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 653</span>
653:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">link</span>(<span class="ruby-identifier">new_link_path</span>, <span class="ruby-identifier">existing_path</span>, <span class="ruby-identifier">symlink</span>=<span class="ruby-keyword kw">true</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
654:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:link</span>, <span class="ruby-identifier">new_link_path</span>, <span class="ruby-identifier">existing_path</span>, <span class="ruby-identifier">symlink</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
655:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000346" class="method-detail">
        <a name="M000346"></a>

        <div class="method-heading">

          <a href="#M000346" class="method-signature">

          <span class="method-name">link(new_link_path, existing_path, symlink=true) &rarr; request<br />
link(new_link_path, existing_path, symlink=true) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Attempts to create a link, either hard or symbolic. This operation is only
available in <a href="../SFTP.html">SFTP</a> protocol versions 6 and
higher. If the <tt>symlink</tt> paramter is true, a symbolic link will be
created, otherwise a hard link will be created. The link will be named
<tt>new_link_path</tt>, and will point to the path <tt>existing_path</tt>.
</p>
<pre>
  sftp.link(&quot;/path/to/symlink&quot;, &quot;/path/to/file&quot;, true).wait
</pre>
<p>
Note that <a href="Session.html#M000288">link</a> is only available for <a
href="../SFTP.html">SFTP</a> protocol 6 and higher. You can use <a
href="Session.html#M000286">symlink</a> for protocols 3 and higher.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000346-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000346-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 653</span>
653:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">link</span>(<span class="ruby-identifier">new_link_path</span>, <span class="ruby-identifier">existing_path</span>, <span class="ruby-identifier">symlink</span>=<span class="ruby-keyword kw">true</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
654:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:link</span>, <span class="ruby-identifier">new_link_path</span>, <span class="ruby-identifier">existing_path</span>, <span class="ruby-identifier">symlink</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
655:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000347" class="method-detail">
        <a name="M000347"></a>

        <div class="method-heading">

          <a href="#M000347" class="method-signature">

          <span class="method-name">link!</span><span class="method-args">(new_link_path, existing_path, symlink=true, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000288">link</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.link!(&quot;/path/to/symlink&quot;, &quot;/path/to/file&quot;, true)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000347-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000347-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 662</span>
662:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">link!</span>(<span class="ruby-identifier">new_link_path</span>, <span class="ruby-identifier">existing_path</span>, <span class="ruby-identifier">symlink</span>=<span class="ruby-keyword kw">true</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
663:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">link</span>(<span class="ruby-identifier">new_link_path</span>, <span class="ruby-identifier">existing_path</span>, <span class="ruby-identifier">symlink</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
664:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000289" class="method-detail">
        <a name="M000289"></a>

        <div class="method-heading">

          <a href="#M000289" class="method-signature">

          <span class="method-name">link!</span><span class="method-args">(new_link_path, existing_path, symlink=true, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000288">link</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.link!(&quot;/path/to/symlink&quot;, &quot;/path/to/file&quot;, true)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000289-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000289-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 662</span>
662:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">link!</span>(<span class="ruby-identifier">new_link_path</span>, <span class="ruby-identifier">existing_path</span>, <span class="ruby-identifier">symlink</span>=<span class="ruby-keyword kw">true</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
663:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">link</span>(<span class="ruby-identifier">new_link_path</span>, <span class="ruby-identifier">existing_path</span>, <span class="ruby-identifier">symlink</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
664:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000300" class="method-detail">
        <a name="M000300"></a>

        <div class="method-heading">

          <a href="#M000300" class="method-signature">

          <span class="method-name">loop</span><span class="method-args">(&amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Runs the <a href="../SSH.html">SSH</a> event loop while the given block
returns true. This lets you set up a state machine and then &#8220;fire it
off&#8221;. If you do not specify a block, the event loop will run for as
long as there are any pending <a href="../SFTP.html">SFTP</a> requests.
This makes it easy to do thing like this:
</p>
<pre>
  sftp.remove(&quot;/path/to/file&quot;)
  sftp.loop
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000300-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000300-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 799</span>
799:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">loop</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
800:         <span class="ruby-identifier">block</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> { <span class="ruby-identifier">pending_requests</span>.<span class="ruby-identifier">any?</span> }
801:         <span class="ruby-identifier">session</span>.<span class="ruby-identifier">loop</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
802:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000359" class="method-detail">
        <a name="M000359"></a>

        <div class="method-heading">

          <a href="#M000359" class="method-signature">

          <span class="method-name">loop</span><span class="method-args">(&amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Runs the <a href="../SSH.html">SSH</a> event loop while the given block
returns true. This lets you set up a state machine and then &#8220;fire it
off&#8221;. If you do not specify a block, the event loop will run for as
long as there are any pending <a href="../SFTP.html">SFTP</a> requests.
This makes it easy to do thing like this:
</p>
<pre>
  sftp.remove(&quot;/path/to/file&quot;)
  sftp.loop
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000359-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000359-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 799</span>
799:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">loop</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
800:         <span class="ruby-identifier">block</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> { <span class="ruby-identifier">pending_requests</span>.<span class="ruby-identifier">any?</span> }
801:         <span class="ruby-identifier">session</span>.<span class="ruby-identifier">loop</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
802:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000301" class="method-detail">
        <a name="M000301"></a>

        <div class="method-heading">

          <span class="method-name">loop_forever</span><span class="method-args">(&amp;block)</span>

        </div>

        <div class="method-description">

          <p>
Alias for <a href="Session.html#M000300">loop</a>
</p>

        </div>
      </div>


      <div id="method-M000358" class="method-detail">
        <a name="M000358"></a>

        <div class="method-heading">

          <span class="method-name">loop_forever</span><span class="method-args">(&amp;block)</span>

        </div>

        <div class="method-description">

          <p>
Alias for <a href="Session.html#M000300">loop</a>
</p>

        </div>
      </div>


      <div id="method-M000318" class="method-detail">
        <a name="M000318"></a>

        <div class="method-heading">

          <a href="#M000318" class="method-signature">

          <span class="method-name">lstat(path, flags=nil) &rarr; request<br />
lstat(path, flags=nil) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
This method is identical to the <a href="Session.html#M000280">stat</a>
method, with the exception that it will not follow symbolic links (thus
allowing you to stat the link itself, rather than what it refers to). The
<tt>flags</tt> parameter is not used in <a href="../SFTP.html">SFTP</a>
protocol versions prior to 4, and will be ignored in those versions of the
protocol that do not use it. For those that do, however, you may provide
hints as to which file proprties you wish to query (e.g., if all you want
is permissions, you could pass the
Net::SFTP::Protocol::V04::Attributes::F_PERMISSIONS flag as the value for
the <tt>flags</tt> parameter).
</p>
<p>
The method returns immediately with a <a href="Request.html">Request</a>
object. If a block is given, it will be invoked when the server responds.
The :attrs property of the response will contain an Attributes instance
appropriate for the the protocol version (see <a
href="Protocol/V01/Attributes.html">Protocol::V01::Attributes</a>, <a
href="Protocol/V04/Attributes.html">Protocol::V04::Attributes</a>, and <a
href="Protocol/V06/Attributes.html">Protocol::V06::Attributes</a>).
</p>
<pre>
  request = sftp.lstat(&quot;/path/to/file&quot;) do |response|
    raise &quot;fail!&quot; unless response.ok?
    puts &quot;permissions: %04o&quot; % response[:attrs].permissions
  end
  request.wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000318-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000318-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 309</span>
309:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lstat</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
310:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:lstat</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
311:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000260" class="method-detail">
        <a name="M000260"></a>

        <div class="method-heading">

          <a href="#M000260" class="method-signature">

          <span class="method-name">lstat(path, flags=nil) &rarr; request<br />
lstat(path, flags=nil) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
This method is identical to the <a href="Session.html#M000280">stat</a>
method, with the exception that it will not follow symbolic links (thus
allowing you to stat the link itself, rather than what it refers to). The
<tt>flags</tt> parameter is not used in <a href="../SFTP.html">SFTP</a>
protocol versions prior to 4, and will be ignored in those versions of the
protocol that do not use it. For those that do, however, you may provide
hints as to which file proprties you wish to query (e.g., if all you want
is permissions, you could pass the
Net::SFTP::Protocol::V04::Attributes::F_PERMISSIONS flag as the value for
the <tt>flags</tt> parameter).
</p>
<p>
The method returns immediately with a <a href="Request.html">Request</a>
object. If a block is given, it will be invoked when the server responds.
The :attrs property of the response will contain an Attributes instance
appropriate for the the protocol version (see <a
href="Protocol/V01/Attributes.html">Protocol::V01::Attributes</a>, <a
href="Protocol/V04/Attributes.html">Protocol::V04::Attributes</a>, and <a
href="Protocol/V06/Attributes.html">Protocol::V06::Attributes</a>).
</p>
<pre>
  request = sftp.lstat(&quot;/path/to/file&quot;) do |response|
    raise &quot;fail!&quot; unless response.ok?
    puts &quot;permissions: %04o&quot; % response[:attrs].permissions
  end
  request.wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000260-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000260-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 309</span>
309:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lstat</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
310:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:lstat</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
311:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000319" class="method-detail">
        <a name="M000319"></a>

        <div class="method-heading">

          <a href="#M000319" class="method-signature">

          <span class="method-name">lstat!</span><span class="method-args">(path, flags=nil, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to the <a href="Session.html#M000260">lstat</a> method, but
blocks until the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the attribute object describing the
path.
</p>
<pre>
  puts sftp.lstat!(&quot;/path/to/file&quot;).permissions
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000319-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000319-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 318</span>
318:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lstat!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
319:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">lstat</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:attrs</span>)
320:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000261" class="method-detail">
        <a name="M000261"></a>

        <div class="method-heading">

          <a href="#M000261" class="method-signature">

          <span class="method-name">lstat!</span><span class="method-args">(path, flags=nil, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to the <a href="Session.html#M000260">lstat</a> method, but
blocks until the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the attribute object describing the
path.
</p>
<pre>
  puts sftp.lstat!(&quot;/path/to/file&quot;).permissions
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000261-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000261-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 318</span>
318:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lstat!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
319:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">lstat</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:attrs</span>)
320:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000332" class="method-detail">
        <a name="M000332"></a>

        <div class="method-heading">

          <a href="#M000332" class="method-signature">

          <span class="method-name">mkdir(path, attrs={}) &rarr; request<br />
mkdir(path, attrs={}) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Creates the named directory on the remote server. If an attribute hash is
given, it must map to the set of attributes supported by the version of the
<a href="../SFTP.html">SFTP</a> protocol in use. (See <a
href="Protocol/V01/Attributes.html">Protocol::V01::Attributes</a>, <a
href="Protocol/V04/Attributes.html">Protocol::V04::Attributes</a>, and <a
href="Protocol/V06/Attributes.html">Protocol::V06::Attributes</a>.)
</p>
<pre>
  sftp.mkdir(&quot;/path/to/directory&quot;, :permissions =&gt; 0550).wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000332-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000332-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 487</span>
487:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mkdir</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
488:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:mkdir</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
489:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000274" class="method-detail">
        <a name="M000274"></a>

        <div class="method-heading">

          <a href="#M000274" class="method-signature">

          <span class="method-name">mkdir(path, attrs={}) &rarr; request<br />
mkdir(path, attrs={}) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Creates the named directory on the remote server. If an attribute hash is
given, it must map to the set of attributes supported by the version of the
<a href="../SFTP.html">SFTP</a> protocol in use. (See <a
href="Protocol/V01/Attributes.html">Protocol::V01::Attributes</a>, <a
href="Protocol/V04/Attributes.html">Protocol::V04::Attributes</a>, and <a
href="Protocol/V06/Attributes.html">Protocol::V06::Attributes</a>.)
</p>
<pre>
  sftp.mkdir(&quot;/path/to/directory&quot;, :permissions =&gt; 0550).wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000274-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000274-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 487</span>
487:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mkdir</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
488:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:mkdir</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
489:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000333" class="method-detail">
        <a name="M000333"></a>

        <div class="method-heading">

          <a href="#M000333" class="method-signature">

          <span class="method-name">mkdir!</span><span class="method-args">(path, attrs={}, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000274">mkdir</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.mkdir!(&quot;/path/to/directory&quot;, :permissions =&gt; 0550)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000333-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000333-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 496</span>
496:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mkdir!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
497:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">mkdir</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
498:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000275" class="method-detail">
        <a name="M000275"></a>

        <div class="method-heading">

          <a href="#M000275" class="method-signature">

          <span class="method-name">mkdir!</span><span class="method-args">(path, attrs={}, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000274">mkdir</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.mkdir!(&quot;/path/to/directory&quot;, :permissions =&gt; 0550)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000275-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000275-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 496</span>
496:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mkdir!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
497:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">mkdir</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
498:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000310" class="method-detail">
        <a name="M000310"></a>

        <div class="method-heading">

          <a href="#M000310" class="method-signature">

          <span class="method-name">open(path, flags="r", options={}) &rarr; request<br />
open(path, flags="r", options={}) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Opens a file on the remote server. The <tt>flags</tt> parameter determines
how the flag is open, and accepts the same format as IO#open (e.g., either
a string like &#8220;r&#8221; or &#8220;w&#8221;, or a combination of the
IO constants). The <tt>options</tt> parameter is a hash of attributes to be
associated with the file, and varies greatly depending on the <a
href="../SFTP.html">SFTP</a> protocol version in use, but some (like
:permissions) are always available.
</p>
<p>
Returns immediately with a <a href="Request.html">Request</a> object. If a
block is given, it will be invoked when the server responds, with a <a
href="Response.html">Response</a> object as the only parameter. The :handle
property of the response is the handle of the opened file, and may be
passed to other methods (like <a href="Session.html#M000254">close</a>, <a
href="Session.html#M000256">read</a>, <a
href="Session.html#M000258">write</a>, and so forth).
</p>
<pre>
  sftp.open(&quot;/path/to/file&quot;) do |response|
    raise &quot;fail!&quot; unless response.ok?
    sftp.close(response[:handle])
  end
  sftp.loop
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000310-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000310-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 180</span>
180:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-value str">&quot;r&quot;</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
181:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:open</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
182:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000252" class="method-detail">
        <a name="M000252"></a>

        <div class="method-heading">

          <a href="#M000252" class="method-signature">

          <span class="method-name">open(path, flags="r", options={}) &rarr; request<br />
open(path, flags="r", options={}) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Opens a file on the remote server. The <tt>flags</tt> parameter determines
how the flag is open, and accepts the same format as IO#open (e.g., either
a string like &#8220;r&#8221; or &#8220;w&#8221;, or a combination of the
IO constants). The <tt>options</tt> parameter is a hash of attributes to be
associated with the file, and varies greatly depending on the <a
href="../SFTP.html">SFTP</a> protocol version in use, but some (like
:permissions) are always available.
</p>
<p>
Returns immediately with a <a href="Request.html">Request</a> object. If a
block is given, it will be invoked when the server responds, with a <a
href="Response.html">Response</a> object as the only parameter. The :handle
property of the response is the handle of the opened file, and may be
passed to other methods (like <a href="Session.html#M000254">close</a>, <a
href="Session.html#M000256">read</a>, <a
href="Session.html#M000258">write</a>, and so forth).
</p>
<pre>
  sftp.open(&quot;/path/to/file&quot;) do |response|
    raise &quot;fail!&quot; unless response.ok?
    sftp.close(response[:handle])
  end
  sftp.loop
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000252-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000252-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 180</span>
180:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-value str">&quot;r&quot;</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
181:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:open</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
182:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000253" class="method-detail">
        <a name="M000253"></a>

        <div class="method-heading">

          <a href="#M000253" class="method-signature">

          <span class="method-name">open!</span><span class="method-args">(path, flags=&quot;r&quot;, options={}, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000252">open</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the handle of the newly opened
file.
</p>
<pre>
  handle = sftp.open!(&quot;/path/to/file&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000253-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000253-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 189</span>
189:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">open!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-value str">&quot;r&quot;</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
190:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:handle</span>)
191:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000311" class="method-detail">
        <a name="M000311"></a>

        <div class="method-heading">

          <a href="#M000311" class="method-signature">

          <span class="method-name">open!</span><span class="method-args">(path, flags=&quot;r&quot;, options={}, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000252">open</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the handle of the newly opened
file.
</p>
<pre>
  handle = sftp.open!(&quot;/path/to/file&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000311-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000311-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 189</span>
189:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">open!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-value str">&quot;r&quot;</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
190:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:handle</span>)
191:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000295" class="method-detail">
        <a name="M000295"></a>

        <div class="method-heading">

          <a href="#M000295" class="method-signature">

          <span class="method-name">open?</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns true if the connection has been initialized.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000295-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000295-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 733</span>
733:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">open?</span>
734:         <span class="ruby-identifier">state</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:open</span>
735:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000353" class="method-detail">
        <a name="M000353"></a>

        <div class="method-heading">

          <a href="#M000353" class="method-signature">

          <span class="method-name">open?</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns true if the connection has been initialized.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000353-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000353-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 733</span>
733:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">open?</span>
734:         <span class="ruby-identifier">state</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:open</span>
735:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000326" class="method-detail">
        <a name="M000326"></a>

        <div class="method-heading">

          <a href="#M000326" class="method-signature">

          <span class="method-name">opendir(path) &rarr; request<br />
opendir(path) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Attempts to open a directory on the remote host for reading. Once the
handle is obtained, directory entries may be retrieved using the <a
href="Session.html#M000270">readdir</a> method. The method returns
immediately with a <a href="Request.html">Request</a> object. If a block is
given, it will be invoked when the server responds.
</p>
<pre>
  sftp.opendir(&quot;/path/to/directory&quot;) do |response|
    raise &quot;fail!&quot; unless response.ok?
    sftp.close(response[:handle])
  end
  sftp.loop
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000326-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000326-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 404</span>
404:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">opendir</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
405:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:opendir</span>, <span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
406:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000268" class="method-detail">
        <a name="M000268"></a>

        <div class="method-heading">

          <a href="#M000268" class="method-signature">

          <span class="method-name">opendir(path) &rarr; request<br />
opendir(path) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Attempts to open a directory on the remote host for reading. Once the
handle is obtained, directory entries may be retrieved using the <a
href="Session.html#M000270">readdir</a> method. The method returns
immediately with a <a href="Request.html">Request</a> object. If a block is
given, it will be invoked when the server responds.
</p>
<pre>
  sftp.opendir(&quot;/path/to/directory&quot;) do |response|
    raise &quot;fail!&quot; unless response.ok?
    sftp.close(response[:handle])
  end
  sftp.loop
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000268-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000268-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 404</span>
404:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">opendir</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
405:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:opendir</span>, <span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
406:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000269" class="method-detail">
        <a name="M000269"></a>

        <div class="method-heading">

          <a href="#M000269" class="method-signature">

          <span class="method-name">opendir!</span><span class="method-args">(path, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000268">opendir</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return a handle to the given path.
</p>
<pre>
  handle = sftp.opendir!(&quot;/path/to/directory&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000269-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000269-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 413</span>
413:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">opendir!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
414:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">opendir</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:handle</span>)
415:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000327" class="method-detail">
        <a name="M000327"></a>

        <div class="method-heading">

          <a href="#M000327" class="method-signature">

          <span class="method-name">opendir!</span><span class="method-args">(path, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000268">opendir</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return a handle to the given path.
</p>
<pre>
  handle = sftp.opendir!(&quot;/path/to/directory&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000327-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000327-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 413</span>
413:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">opendir!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
414:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">opendir</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:handle</span>)
415:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000355" class="method-detail">
        <a name="M000355"></a>

        <div class="method-heading">

          <a href="#M000355" class="method-signature">

          <span class="method-name">opening?</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns true if the connection is in the process of being initialized
(e.g., it is not closed, but is not yet fully open).
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000355-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000355-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 744</span>
744:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">opening?</span>
745:         <span class="ruby-operator">!</span>(<span class="ruby-identifier">open?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">closed?</span>)
746:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000297" class="method-detail">
        <a name="M000297"></a>

        <div class="method-heading">

          <a href="#M000297" class="method-signature">

          <span class="method-name">opening?</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns true if the connection is in the process of being initialized
(e.g., it is not closed, but is not yet fully open).
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000297-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000297-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 744</span>
744:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">opening?</span>
745:         <span class="ruby-operator">!</span>(<span class="ruby-identifier">open?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">closed?</span>)
746:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000314" class="method-detail">
        <a name="M000314"></a>

        <div class="method-heading">

          <a href="#M000314" class="method-signature">

          <span class="method-name">read(handle, offset, length) &rarr; request<br />
read(handle, offset, length) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Requests that <tt>length</tt> bytes, starting at <tt>offset</tt> bytes from
the beginning of the file, be read from the file identified by
<tt>handle</tt>. (The <tt>handle</tt> should be a value obtained via the <a
href="Session.html#M000252">open</a> method.) Returns immediately with a <a
href="Request.html">Request</a> object. If a block is given, it will be
invoked when the server responds.
</p>
<p>
The :data property of the response will contain the requested data,
assuming the call was successful.
</p>
<pre>
  request = sftp.read(handle, 0, 1024) do |response|
    if response.eof?
      puts &quot;end of file reached before reading any data&quot;
    elsif !response.ok?
      puts &quot;error (#{response})&quot;
    else
      print(response[:data])
    end
  end
  request.wait
</pre>
<p>
To read an entire file will usually require multiple calls to <a
href="Session.html#M000256">read</a>, unless you know in advance how large
the file is.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000314-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000314-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 245</span>
245:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
246:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:read</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
247:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000256" class="method-detail">
        <a name="M000256"></a>

        <div class="method-heading">

          <a href="#M000256" class="method-signature">

          <span class="method-name">read(handle, offset, length) &rarr; request<br />
read(handle, offset, length) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Requests that <tt>length</tt> bytes, starting at <tt>offset</tt> bytes from
the beginning of the file, be read from the file identified by
<tt>handle</tt>. (The <tt>handle</tt> should be a value obtained via the <a
href="Session.html#M000252">open</a> method.) Returns immediately with a <a
href="Request.html">Request</a> object. If a block is given, it will be
invoked when the server responds.
</p>
<p>
The :data property of the response will contain the requested data,
assuming the call was successful.
</p>
<pre>
  request = sftp.read(handle, 0, 1024) do |response|
    if response.eof?
      puts &quot;end of file reached before reading any data&quot;
    elsif !response.ok?
      puts &quot;error (#{response})&quot;
    else
      print(response[:data])
    end
  end
  request.wait
</pre>
<p>
To read an entire file will usually require multiple calls to <a
href="Session.html#M000256">read</a>, unless you know in advance how large
the file is.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000256-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000256-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 245</span>
245:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
246:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:read</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
247:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000257" class="method-detail">
        <a name="M000257"></a>

        <div class="method-heading">

          <a href="#M000257" class="method-signature">

          <span class="method-name">read!</span><span class="method-args">(handle, offset, length, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000256">read</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. If the end of the file was reached, <tt>nil</tt> will be
returned. Otherwise, it returns the data that was read, as a String.
</p>
<pre>
  data = sftp.read!(handle, 0, 1024)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000257-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000257-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 255</span>
255:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
256:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">read</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:data</span>)
257:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000315" class="method-detail">
        <a name="M000315"></a>

        <div class="method-heading">

          <a href="#M000315" class="method-signature">

          <span class="method-name">read!</span><span class="method-args">(handle, offset, length, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000256">read</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. If the end of the file was reached, <tt>nil</tt> will be
returned. Otherwise, it returns the data that was read, as a String.
</p>
<pre>
  data = sftp.read!(handle, 0, 1024)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000315-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000315-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 255</span>
255:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
256:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">read</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:data</span>)
257:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000328" class="method-detail">
        <a name="M000328"></a>

        <div class="method-heading">

          <a href="#M000328" class="method-signature">

          <span class="method-name">readdir(handle) &rarr; request<br />
raeddir(handle) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Reads a set of entries from the given directory handle (which must have
been obtained via <a href="Session.html#M000268">opendir</a>). If the
response is EOF, then there are no more entries in the directory.
Otherwise, the entries will be in the :names property of the response:
</p>
<pre>
  loop do
    request = sftp.readdir(handle).wait
    break if request.response.eof?
    raise &quot;fail!&quot; unless request.response.ok?
    request.response[:names].each do |entry|
       puts entry.name
    end
  end
</pre>
<p>
See also <a href="Protocol/V01/Name.html">Protocol::V01::Name</a> and <a
href="Protocol/V04/Name.html">Protocol::V04::Name</a> for the specific
properties of each individual entry (which vary based on the <a
href="../SFTP.html">SFTP</a> protocol version in use).
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000328-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000328-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 438</span>
438:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">readdir</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
439:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:readdir</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
440:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000270" class="method-detail">
        <a name="M000270"></a>

        <div class="method-heading">

          <a href="#M000270" class="method-signature">

          <span class="method-name">readdir(handle) &rarr; request<br />
raeddir(handle) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Reads a set of entries from the given directory handle (which must have
been obtained via <a href="Session.html#M000268">opendir</a>). If the
response is EOF, then there are no more entries in the directory.
Otherwise, the entries will be in the :names property of the response:
</p>
<pre>
  loop do
    request = sftp.readdir(handle).wait
    break if request.response.eof?
    raise &quot;fail!&quot; unless request.response.ok?
    request.response[:names].each do |entry|
       puts entry.name
    end
  end
</pre>
<p>
See also <a href="Protocol/V01/Name.html">Protocol::V01::Name</a> and <a
href="Protocol/V04/Name.html">Protocol::V04::Name</a> for the specific
properties of each individual entry (which vary based on the <a
href="../SFTP.html">SFTP</a> protocol version in use).
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000270-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000270-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 438</span>
438:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">readdir</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
439:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:readdir</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
440:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000271" class="method-detail">
        <a name="M000271"></a>

        <div class="method-heading">

          <a href="#M000271" class="method-signature">

          <span class="method-name">readdir!</span><span class="method-args">(handle, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000270">readdir</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return nil if there were no more names to
read, or an array of name entries.
</p>
<pre>
  while (entries = sftp.readdir!(handle)) do
    entries.each { |entry| puts(entry.name) }
  end
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000271-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000271-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 450</span>
450:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">readdir!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
451:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">readdir</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:names</span>)
452:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000329" class="method-detail">
        <a name="M000329"></a>

        <div class="method-heading">

          <a href="#M000329" class="method-signature">

          <span class="method-name">readdir!</span><span class="method-args">(handle, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000270">readdir</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return nil if there were no more names to
read, or an array of name entries.
</p>
<pre>
  while (entries = sftp.readdir!(handle)) do
    entries.each { |entry| puts(entry.name) }
  end
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000329-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000329-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 450</span>
450:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">readdir!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
451:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">readdir</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:names</span>)
452:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000284" class="method-detail">
        <a name="M000284"></a>

        <div class="method-heading">

          <a href="#M000284" class="method-signature">

          <span class="method-name">readlink(path) &rarr; request<br />
readlink(path) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Queries the server for the target of the specified symbolic link. This
operation is only available in protocol versions 3 and higher. The response
to this request will include a names property, a one-element array naming
the target of the symlink.
</p>
<pre>
  request = sftp.readlink(&quot;/path/to/symlink&quot;).wait
  puts request.response[:names].first.name
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000284-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000284-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 603</span>
603:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">readlink</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
604:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:readlink</span>, <span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
605:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000342" class="method-detail">
        <a name="M000342"></a>

        <div class="method-heading">

          <a href="#M000342" class="method-signature">

          <span class="method-name">readlink(path) &rarr; request<br />
readlink(path) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Queries the server for the target of the specified symbolic link. This
operation is only available in protocol versions 3 and higher. The response
to this request will include a names property, a one-element array naming
the target of the symlink.
</p>
<pre>
  request = sftp.readlink(&quot;/path/to/symlink&quot;).wait
  puts request.response[:names].first.name
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000342-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000342-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 603</span>
603:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">readlink</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
604:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:readlink</span>, <span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
605:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000285" class="method-detail">
        <a name="M000285"></a>

        <div class="method-heading">

          <a href="#M000285" class="method-signature">

          <span class="method-name">readlink!</span><span class="method-args">(path, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000284">readlink</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the Name object for the path that
the symlink targets.
</p>
<pre>
  item = sftp.readlink!(&quot;/path/to/symlink&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000285-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000285-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 612</span>
612:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">readlink!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
613:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">readlink</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:names</span>).<span class="ruby-identifier">first</span>
614:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000343" class="method-detail">
        <a name="M000343"></a>

        <div class="method-heading">

          <a href="#M000343" class="method-signature">

          <span class="method-name">readlink!</span><span class="method-args">(path, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000284">readlink</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the Name object for the path that
the symlink targets.
</p>
<pre>
  item = sftp.readlink!(&quot;/path/to/symlink&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000343-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000343-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 612</span>
612:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">readlink!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
613:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">readlink</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:names</span>).<span class="ruby-identifier">first</span>
614:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000336" class="method-detail">
        <a name="M000336"></a>

        <div class="method-heading">

          <a href="#M000336" class="method-signature">

          <span class="method-name">realpath(path) &rarr; request<br />
realpath(path) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Tries to canonicalize the given path, turning any given path into an
absolute path. This is primarily useful for converting a path with
&#8220;..&#8221; or &#8220;.&#8221; segments into an identical path without
those segments. The answer will be in the response&#8217;s :names
attribute, as a one-element array.
</p>
<pre>
  request = sftp.realpath(&quot;/path/../to/../directory&quot;).wait
  puts request[:names].first.name
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000336-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000336-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 533</span>
533:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">realpath</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
534:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:realpath</span>, <span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
535:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000278" class="method-detail">
        <a name="M000278"></a>

        <div class="method-heading">

          <a href="#M000278" class="method-signature">

          <span class="method-name">realpath(path) &rarr; request<br />
realpath(path) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Tries to canonicalize the given path, turning any given path into an
absolute path. This is primarily useful for converting a path with
&#8220;..&#8221; or &#8220;.&#8221; segments into an identical path without
those segments. The answer will be in the response&#8217;s :names
attribute, as a one-element array.
</p>
<pre>
  request = sftp.realpath(&quot;/path/../to/../directory&quot;).wait
  puts request[:names].first.name
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000278-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000278-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 533</span>
533:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">realpath</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
534:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:realpath</span>, <span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
535:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000279" class="method-detail">
        <a name="M000279"></a>

        <div class="method-heading">

          <a href="#M000279" class="method-signature">

          <span class="method-name">realpath!</span><span class="method-args">(path, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000278">realpath</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return a name object identifying the path.
</p>
<pre>
  puts(sftp.realpath!(&quot;/path/../to/../directory&quot;))
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000279-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000279-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 542</span>
542:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">realpath!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
543:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">realpath</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:names</span>).<span class="ruby-identifier">first</span>
544:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000337" class="method-detail">
        <a name="M000337"></a>

        <div class="method-heading">

          <a href="#M000337" class="method-signature">

          <span class="method-name">realpath!</span><span class="method-args">(path, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000278">realpath</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return a name object identifying the path.
</p>
<pre>
  puts(sftp.realpath!(&quot;/path/../to/../directory&quot;))
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000337-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000337-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 542</span>
542:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">realpath!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
543:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">realpath</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:names</span>).<span class="ruby-identifier">first</span>
544:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000330" class="method-detail">
        <a name="M000330"></a>

        <div class="method-heading">

          <a href="#M000330" class="method-signature">

          <span class="method-name">remove(filename) &rarr; request<br />
remove(filename) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Attempts to remove the given file from the remote file system. Returns
immediately with a <a href="Request.html">Request</a> object. If a block is
given, the block will be invoked when the server responds, and will be
passed a <a href="Response.html">Response</a> object.
</p>
<pre>
  sftp.remove(&quot;/path/to/file&quot;).wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000330-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000330-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 464</span>
464:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
465:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:remove</span>, <span class="ruby-identifier">filename</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
466:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000272" class="method-detail">
        <a name="M000272"></a>

        <div class="method-heading">

          <a href="#M000272" class="method-signature">

          <span class="method-name">remove(filename) &rarr; request<br />
remove(filename) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Attempts to remove the given file from the remote file system. Returns
immediately with a <a href="Request.html">Request</a> object. If a block is
given, the block will be invoked when the server responds, and will be
passed a <a href="Response.html">Response</a> object.
</p>
<pre>
  sftp.remove(&quot;/path/to/file&quot;).wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000272-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000272-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 464</span>
464:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
465:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:remove</span>, <span class="ruby-identifier">filename</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
466:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000331" class="method-detail">
        <a name="M000331"></a>

        <div class="method-heading">

          <a href="#M000331" class="method-signature">

          <span class="method-name">remove!</span><span class="method-args">(filename, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000272">remove</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.remove!(&quot;/path/to/file&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000331-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000331-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 473</span>
473:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove!</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
474:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">remove</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
475:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000273" class="method-detail">
        <a name="M000273"></a>

        <div class="method-heading">

          <a href="#M000273" class="method-signature">

          <span class="method-name">remove!</span><span class="method-args">(filename, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000272">remove</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.remove!(&quot;/path/to/file&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000273-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000273-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 473</span>
473:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove!</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
474:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">remove</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
475:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000282" class="method-detail">
        <a name="M000282"></a>

        <div class="method-heading">

          <a href="#M000282" class="method-signature">

          <span class="method-name">rename(name, new_name, flags=nil) &rarr; request<br />
rename(name, new_name, flags=nil) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Renames the given file. This operation is only available in <a
href="../SFTP.html">SFTP</a> protocol versions two and higher. The
<tt>flags</tt> parameter is ignored in versions prior to 5. In versions 5
and higher, the <tt>flags</tt> parameter can be used to specify how the
rename should be performed (atomically, etc.).
</p>
<p>
The following flags are defined in protocol version 5:
</p>
<ul>
<li>0x0001 - overwrite an existing file if the new name specifies a file that
already exists.

</li>
<li>0x0002 - perform the rewrite atomically.

</li>
<li>0x0004 - allow the server to perform the rename as it prefers.

</li>
</ul>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000282-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000282-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 579</span>
579:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rename</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">new_name</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
580:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:rename</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">new_name</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
581:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000340" class="method-detail">
        <a name="M000340"></a>

        <div class="method-heading">

          <a href="#M000340" class="method-signature">

          <span class="method-name">rename(name, new_name, flags=nil) &rarr; request<br />
rename(name, new_name, flags=nil) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Renames the given file. This operation is only available in <a
href="../SFTP.html">SFTP</a> protocol versions two and higher. The
<tt>flags</tt> parameter is ignored in versions prior to 5. In versions 5
and higher, the <tt>flags</tt> parameter can be used to specify how the
rename should be performed (atomically, etc.).
</p>
<p>
The following flags are defined in protocol version 5:
</p>
<ul>
<li>0x0001 - overwrite an existing file if the new name specifies a file that
already exists.

</li>
<li>0x0002 - perform the rewrite atomically.

</li>
<li>0x0004 - allow the server to perform the rename as it prefers.

</li>
</ul>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000340-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000340-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 579</span>
579:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rename</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">new_name</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
580:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:rename</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">new_name</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
581:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000341" class="method-detail">
        <a name="M000341"></a>

        <div class="method-heading">

          <a href="#M000341" class="method-signature">

          <span class="method-name">rename!</span><span class="method-args">(name, new_name, flags=nil, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000282">rename</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.rename!(&quot;/path/to/old&quot;, &quot;/path/to/new&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000341-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000341-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 588</span>
588:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rename!</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">new_name</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
589:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">rename</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">new_name</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
590:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000283" class="method-detail">
        <a name="M000283"></a>

        <div class="method-heading">

          <a href="#M000283" class="method-signature">

          <span class="method-name">rename!</span><span class="method-args">(name, new_name, flags=nil, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000282">rename</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.rename!(&quot;/path/to/old&quot;, &quot;/path/to/new&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000283-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000283-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 588</span>
588:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rename!</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">new_name</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
589:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">rename</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">new_name</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
590:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000334" class="method-detail">
        <a name="M000334"></a>

        <div class="method-heading">

          <a href="#M000334" class="method-signature">

          <span class="method-name">rmdir(path) &rarr; request<br />
rmdir(path) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Removes the named directory on the remote server. The directory must be
empty before it can be removed.
</p>
<pre>
  sftp.rmdir(&quot;/path/to/directory&quot;).wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000334-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000334-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 508</span>
508:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rmdir</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
509:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:rmdir</span>, <span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
510:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000276" class="method-detail">
        <a name="M000276"></a>

        <div class="method-heading">

          <a href="#M000276" class="method-signature">

          <span class="method-name">rmdir(path) &rarr; request<br />
rmdir(path) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Removes the named directory on the remote server. The directory must be
empty before it can be removed.
</p>
<pre>
  sftp.rmdir(&quot;/path/to/directory&quot;).wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000276-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000276-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 508</span>
508:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rmdir</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
509:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:rmdir</span>, <span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
510:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000277" class="method-detail">
        <a name="M000277"></a>

        <div class="method-heading">

          <a href="#M000277" class="method-signature">

          <span class="method-name">rmdir!</span><span class="method-args">(path, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000276">rmdir</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.rmdir!(&quot;/path/to/directory&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000277-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000277-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 517</span>
517:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rmdir!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
518:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">rmdir</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
519:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000335" class="method-detail">
        <a name="M000335"></a>

        <div class="method-heading">

          <a href="#M000335" class="method-signature">

          <span class="method-name">rmdir!</span><span class="method-args">(path, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000276">rmdir</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.rmdir!(&quot;/path/to/directory&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000335-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000335-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 517</span>
517:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rmdir!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
518:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">rmdir</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
519:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000302" class="method-detail">
        <a name="M000302"></a>

        <div class="method-heading">

          <a href="#M000302" class="method-signature">

          <span class="method-name">send_packet</span><span class="method-args">(type, *args)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Formats, constructs, and sends an <a href="../SFTP.html">SFTP</a> packet of
the given type and with the given data. This does not block, but merely
enqueues the packet for sending and returns.
</p>
<p>
You should probably use the operation methods, rather than building and
sending the packet directly. (See <a href="Session.html#M000252">open</a>,
<a href="Session.html#M000254">close</a>, etc.)
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000302-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000302-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 810</span>
810:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_packet</span>(<span class="ruby-identifier">type</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
811:         <span class="ruby-identifier">data</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Buffer</span>.<span class="ruby-identifier">from</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
812:         <span class="ruby-identifier">msg</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Buffer</span>.<span class="ruby-identifier">from</span>(<span class="ruby-identifier">:long</span>, <span class="ruby-identifier">data</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-identifier">:byte</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">:raw</span>, <span class="ruby-identifier">data</span>)
813:         <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">send_data</span>(<span class="ruby-identifier">msg</span>.<span class="ruby-identifier">to_s</span>)
814:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000360" class="method-detail">
        <a name="M000360"></a>

        <div class="method-heading">

          <a href="#M000360" class="method-signature">

          <span class="method-name">send_packet</span><span class="method-args">(type, *args)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Formats, constructs, and sends an <a href="../SFTP.html">SFTP</a> packet of
the given type and with the given data. This does not block, but merely
enqueues the packet for sending and returns.
</p>
<p>
You should probably use the operation methods, rather than building and
sending the packet directly. (See <a href="Session.html#M000252">open</a>,
<a href="Session.html#M000254">close</a>, etc.)
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000360-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000360-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 810</span>
810:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_packet</span>(<span class="ruby-identifier">type</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
811:         <span class="ruby-identifier">data</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Buffer</span>.<span class="ruby-identifier">from</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
812:         <span class="ruby-identifier">msg</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Buffer</span>.<span class="ruby-identifier">from</span>(<span class="ruby-identifier">:long</span>, <span class="ruby-identifier">data</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-identifier">:byte</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">:raw</span>, <span class="ruby-identifier">data</span>)
813:         <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">send_data</span>(<span class="ruby-identifier">msg</span>.<span class="ruby-identifier">to_s</span>)
814:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000322" class="method-detail">
        <a name="M000322"></a>

        <div class="method-heading">

          <a href="#M000322" class="method-signature">

          <span class="method-name">setstat(path, attrs) &rarr; request<br />
setstat(path, attrs) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
This method may be used to set file metadata (such as permissions, or
user/group information) on a remote file. The exact metadata that may be
tweaked is dependent on the <a href="../SFTP.html">SFTP</a> protocol
version in use, but in general you may set at least the permissions, user,
and group. (See <a
href="Protocol/V01/Attributes.html">Protocol::V01::Attributes</a>, <a
href="Protocol/V04/Attributes.html">Protocol::V04::Attributes</a>, and <a
href="Protocol/V06/Attributes.html">Protocol::V06::Attributes</a> for the
full lists of attributes that may be set for the different protocols.)
</p>
<p>
The <tt>attrs</tt> parameter is a hash, where the keys are symbols
identifying the attributes to set.
</p>
<p>
The method returns immediately with a <a href="Request.html">Request</a>
object. If a block is given, it will be invoked when the server responds.
</p>
<pre>
  request = sftp.setstat(&quot;/path/to/file&quot;, :permissions =&gt; 0644)
  request.wait
  puts &quot;success: #{request.response.ok?}&quot;
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000322-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000322-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 360</span>
360:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setstat</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
361:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:setstat</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
362:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000264" class="method-detail">
        <a name="M000264"></a>

        <div class="method-heading">

          <a href="#M000264" class="method-signature">

          <span class="method-name">setstat(path, attrs) &rarr; request<br />
setstat(path, attrs) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
This method may be used to set file metadata (such as permissions, or
user/group information) on a remote file. The exact metadata that may be
tweaked is dependent on the <a href="../SFTP.html">SFTP</a> protocol
version in use, but in general you may set at least the permissions, user,
and group. (See <a
href="Protocol/V01/Attributes.html">Protocol::V01::Attributes</a>, <a
href="Protocol/V04/Attributes.html">Protocol::V04::Attributes</a>, and <a
href="Protocol/V06/Attributes.html">Protocol::V06::Attributes</a> for the
full lists of attributes that may be set for the different protocols.)
</p>
<p>
The <tt>attrs</tt> parameter is a hash, where the keys are symbols
identifying the attributes to set.
</p>
<p>
The method returns immediately with a <a href="Request.html">Request</a>
object. If a block is given, it will be invoked when the server responds.
</p>
<pre>
  request = sftp.setstat(&quot;/path/to/file&quot;, :permissions =&gt; 0644)
  request.wait
  puts &quot;success: #{request.response.ok?}&quot;
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000264-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000264-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 360</span>
360:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setstat</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
361:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:setstat</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
362:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000323" class="method-detail">
        <a name="M000323"></a>

        <div class="method-heading">

          <a href="#M000323" class="method-signature">

          <span class="method-name">setstat!</span><span class="method-args">(path, attrs, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to the <a href="Session.html#M000264">setstat</a> method, but
blocks until the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.setstat!(&quot;/path/to/file&quot;, :permissions =&gt; 0644)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000323-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000323-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 369</span>
369:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setstat!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
370:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">setstat</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
371:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000265" class="method-detail">
        <a name="M000265"></a>

        <div class="method-heading">

          <a href="#M000265" class="method-signature">

          <span class="method-name">setstat!</span><span class="method-args">(path, attrs, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to the <a href="Session.html#M000264">setstat</a> method, but
blocks until the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.setstat!(&quot;/path/to/file&quot;, :permissions =&gt; 0644)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000265-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000265-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 369</span>
369:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setstat!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
370:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">setstat</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
371:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000280" class="method-detail">
        <a name="M000280"></a>

        <div class="method-heading">

          <a href="#M000280" class="method-signature">

          <span class="method-name">stat</span><span class="method-args">(path, flags=nil, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to the <a href="Session.html#M000260">lstat</a> method, except
that it follows symlinks (e.g., if you give it the path to a symlink, it
will stat the target of the symlink rather than the symlink itself). See
the <a href="Session.html#M000260">lstat</a> method for full documentation.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000280-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000280-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 550</span>
550:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stat</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
551:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:stat</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
552:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000338" class="method-detail">
        <a name="M000338"></a>

        <div class="method-heading">

          <a href="#M000338" class="method-signature">

          <span class="method-name">stat</span><span class="method-args">(path, flags=nil, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to the <a href="Session.html#M000260">lstat</a> method, except
that it follows symlinks (e.g., if you give it the path to a symlink, it
will stat the target of the symlink rather than the symlink itself). See
the <a href="Session.html#M000260">lstat</a> method for full documentation.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000338-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000338-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 550</span>
550:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stat</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
551:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:stat</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
552:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000339" class="method-detail">
        <a name="M000339"></a>

        <div class="method-heading">

          <a href="#M000339" class="method-signature">

          <span class="method-name">stat!</span><span class="method-args">(path, flags=nil, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000280">stat</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return an attribute object for the named
path.
</p>
<pre>
  attrs = sftp.stat!(&quot;/path/to/file&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000339-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000339-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 559</span>
559:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stat!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
560:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">stat</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:attrs</span>)
561:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000281" class="method-detail">
        <a name="M000281"></a>

        <div class="method-heading">

          <a href="#M000281" class="method-signature">

          <span class="method-name">stat!</span><span class="method-args">(path, flags=nil, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000280">stat</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return an attribute object for the named
path.
</p>
<pre>
  attrs = sftp.stat!(&quot;/path/to/file&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000281-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000281-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 559</span>
559:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stat!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
560:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">stat</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flags</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>), <span class="ruby-identifier">:attrs</span>)
561:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000286" class="method-detail">
        <a name="M000286"></a>

        <div class="method-heading">

          <a href="#M000286" class="method-signature">

          <span class="method-name">symlink(path, target) &rarr; request<br />
symlink(path, target) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Attempts to create a symlink to <tt>path</tt> at <tt>target</tt>. This
operation is only available in protocol versions 3, 4, and 5, but the <a
href="../SFTP.html">Net::SFTP</a> library mimics the symlink behavior in
protocol version 6 using the <a href="Session.html#M000288">link</a>
method, so it is safe to use this method in protocol version 6.
</p>
<pre>
  sftp.symlink(&quot;/path/to/file&quot;, &quot;/path/to/symlink&quot;).wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000286-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000286-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 626</span>
626:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">symlink</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">target</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
627:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:symlink</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">target</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
628:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000344" class="method-detail">
        <a name="M000344"></a>

        <div class="method-heading">

          <a href="#M000344" class="method-signature">

          <span class="method-name">symlink(path, target) &rarr; request<br />
symlink(path, target) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Attempts to create a symlink to <tt>path</tt> at <tt>target</tt>. This
operation is only available in protocol versions 3, 4, and 5, but the <a
href="../SFTP.html">Net::SFTP</a> library mimics the symlink behavior in
protocol version 6 using the <a href="Session.html#M000288">link</a>
method, so it is safe to use this method in protocol version 6.
</p>
<pre>
  sftp.symlink(&quot;/path/to/file&quot;, &quot;/path/to/symlink&quot;).wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000344-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000344-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 626</span>
626:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">symlink</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">target</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
627:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:symlink</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">target</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
628:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000345" class="method-detail">
        <a name="M000345"></a>

        <div class="method-heading">

          <a href="#M000345" class="method-signature">

          <span class="method-name">symlink!</span><span class="method-args">(path, target, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000286">symlink</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.symlink!(&quot;/path/to/file&quot;, &quot;/path/to/symlink&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000345-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000345-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 635</span>
635:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">symlink!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">target</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
636:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">symlink</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">target</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
637:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000287" class="method-detail">
        <a name="M000287"></a>

        <div class="method-heading">

          <a href="#M000287" class="method-signature">

          <span class="method-name">symlink!</span><span class="method-args">(path, target, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000286">symlink</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>
<pre>
  sftp.symlink!(&quot;/path/to/file&quot;, &quot;/path/to/symlink&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000287-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000287-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 635</span>
635:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">symlink!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">target</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
636:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">symlink</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">target</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
637:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000350" class="method-detail">
        <a name="M000350"></a>

        <div class="method-heading">

          <a href="#M000350" class="method-signature">

          <span class="method-name">unblock(handle, offset, length) &rarr; request<br />
unblock(handle, offset, length) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Removes a previously created byte-range lock. This operation is only
available in protocol versions 6 and higher. The <tt>offset</tt> and
<tt>length</tt> parameters must exactly match those that were given to <a
href="Session.html#M000290">block</a> when the lock was acquired.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000350-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000350-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 709</span>
709:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unblock</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
710:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:unblock</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
711:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000292" class="method-detail">
        <a name="M000292"></a>

        <div class="method-heading">

          <a href="#M000292" class="method-signature">

          <span class="method-name">unblock(handle, offset, length) &rarr; request<br />
unblock(handle, offset, length) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Removes a previously created byte-range lock. This operation is only
available in protocol versions 6 and higher. The <tt>offset</tt> and
<tt>length</tt> parameters must exactly match those that were given to <a
href="Session.html#M000290">block</a> when the lock was acquired.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000292-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000292-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 709</span>
709:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unblock</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
710:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:unblock</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
711:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000351" class="method-detail">
        <a name="M000351"></a>

        <div class="method-heading">

          <a href="#M000351" class="method-signature">

          <span class="method-name">unblock!</span><span class="method-args">(handle, offset, length, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000292">unblock</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000351-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000351-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 716</span>
716:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unblock!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
717:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">unblock</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
718:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000293" class="method-detail">
        <a name="M000293"></a>

        <div class="method-heading">

          <a href="#M000293" class="method-signature">

          <span class="method-name">unblock!</span><span class="method-args">(handle, offset, length, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000292">unblock</a>, but blocks until
the server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful. Otherwise, it will return the <a
href="Response.html">Response</a> object for the request.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000293-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000293-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 716</span>
716:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unblock!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
717:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">unblock</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">length</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
718:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000304" class="method-detail">
        <a name="M000304"></a>

        <div class="method-heading">

          <a href="#M000304" class="method-signature">

          <span class="method-name">upload</span><span class="method-args">(local, remote, options={}, &amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Initiates an upload from <tt>local</tt> to <tt>remote</tt>, asynchronously.
This method will return a new <a
href="Operations/Upload.html">Net::SFTP::Operations::Upload</a> instance,
and requires the event loop to be run in order for the upload to progress.
See <a href="Operations/Upload.html">Net::SFTP::Operations::Upload</a> for
a full discussion of how this method can be used.
</p>
<pre>
  uploader = sftp.upload(&quot;/local/path&quot;, &quot;/remote/path&quot;)
  uploader.wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000304-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000304-source">
<pre>
    <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 97</span>
97:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">upload</span>(<span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
98:         <span class="ruby-constant">Operations</span><span class="ruby-operator">::</span><span class="ruby-constant">Upload</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
99:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000246" class="method-detail">
        <a name="M000246"></a>

        <div class="method-heading">

          <a href="#M000246" class="method-signature">

          <span class="method-name">upload</span><span class="method-args">(local, remote, options={}, &amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Initiates an upload from <tt>local</tt> to <tt>remote</tt>, asynchronously.
This method will return a new <a
href="Operations/Upload.html">Net::SFTP::Operations::Upload</a> instance,
and requires the event loop to be run in order for the upload to progress.
See <a href="Operations/Upload.html">Net::SFTP::Operations::Upload</a> for
a full discussion of how this method can be used.
</p>
<pre>
  uploader = sftp.upload(&quot;/local/path&quot;, &quot;/remote/path&quot;)
  uploader.wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000246-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000246-source">
<pre>
    <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 97</span>
97:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">upload</span>(<span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
98:         <span class="ruby-constant">Operations</span><span class="ruby-operator">::</span><span class="ruby-constant">Upload</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
99:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000247" class="method-detail">
        <a name="M000247"></a>

        <div class="method-heading">

          <a href="#M000247" class="method-signature">

          <span class="method-name">upload!</span><span class="method-args">(local, remote, options={}, &amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000246">upload</a>, but blocks until
the upload is complete.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000247-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000247-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 102</span>
102:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">upload!</span>(<span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
103:         <span class="ruby-identifier">upload</span>(<span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>).<span class="ruby-identifier">wait</span>
104:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000305" class="method-detail">
        <a name="M000305"></a>

        <div class="method-heading">

          <a href="#M000305" class="method-signature">

          <span class="method-name">upload!</span><span class="method-args">(local, remote, options={}, &amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000246">upload</a>, but blocks until
the upload is complete.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000305-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000305-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 102</span>
102:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">upload!</span>(<span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
103:         <span class="ruby-identifier">upload</span>(<span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>).<span class="ruby-identifier">wait</span>
104:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000316" class="method-detail">
        <a name="M000316"></a>

        <div class="method-heading">

          <a href="#M000316" class="method-signature">

          <span class="method-name">write(handle, offset, data) &rarr; request<br />
write(handle, offset, data) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Requests that <tt>data</tt> be written to the file identified by
<tt>handle</tt>, starting at <tt>offset</tt> bytes from the start of the
file. The file must have been opened for writing via <a
href="Session.html#M000252">open</a>. Returns immediately with a <a
href="Request.html">Request</a> object. If a block is given, it will be
invoked when the server responds.
</p>
<pre>
  request = sftp.write(handle, 0, &quot;hello, world!\n&quot;)
  request.wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000316-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000316-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 271</span>
271:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">data</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
272:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:write</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">data</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
273:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000258" class="method-detail">
        <a name="M000258"></a>

        <div class="method-heading">

          <a href="#M000258" class="method-signature">

          <span class="method-name">write(handle, offset, data) &rarr; request<br />
write(handle, offset, data) { |response| ... } &rarr; request<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Requests that <tt>data</tt> be written to the file identified by
<tt>handle</tt>, starting at <tt>offset</tt> bytes from the start of the
file. The file must have been opened for writing via <a
href="Session.html#M000252">open</a>. Returns immediately with a <a
href="Request.html">Request</a> object. If a block is given, it will be
invoked when the server responds.
</p>
<pre>
  request = sftp.write(handle, 0, &quot;hello, world!\n&quot;)
  request.wait
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000258-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000258-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 271</span>
271:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">data</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
272:         <span class="ruby-identifier">request</span> <span class="ruby-identifier">:write</span>, <span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">data</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>
273:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000259" class="method-detail">
        <a name="M000259"></a>

        <div class="method-heading">

          <a href="#M000259" class="method-signature">

          <span class="method-name">write!</span><span class="method-args">(handle, offset, data, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000258">write</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful, or the end of the file was reached. Otherwise, it returns the
<a href="Response.html">Response</a> object for this request.
</p>
<pre>
  sftp.write!(handle, 0, &quot;hello, world!\n&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000259-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000259-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 280</span>
280:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">data</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
281:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">write</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">data</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
282:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000317" class="method-detail">
        <a name="M000317"></a>

        <div class="method-heading">

          <a href="#M000317" class="method-signature">

          <span class="method-name">write!</span><span class="method-args">(handle, offset, data, &amp;callback)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Identical to <a href="Session.html#M000258">write</a>, but blocks until the
server responds. It will raise a <a
href="StatusException.html">StatusException</a> if the request was
unsuccessful, or the end of the file was reached. Otherwise, it returns the
<a href="Response.html">Response</a> object for this request.
</p>
<pre>
  sftp.write!(handle, 0, &quot;hello, world!\n&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000317-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000317-source">
<pre>
     <span class="ruby-comment cmt"># File lib/net/sftp/session.rb, line 280</span>
280:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write!</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">data</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
281:         <span class="ruby-identifier">wait_for</span>(<span class="ruby-identifier">write</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">data</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>))
282:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>



    </div>




  </div>

<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>
